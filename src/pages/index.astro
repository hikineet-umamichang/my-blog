---
import SocialList from "@/components/SocialList.astro";
import PostPreview from "@/components/blog/PostPreview.astro";
import PageLayout from "@/layouts/Base.astro";
import { getAllPosts, sortMDByDate } from "@/utils";

const MAX_POSTS = 10;
const allPosts = await getAllPosts();
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS);

const cactusTech: { desc: string; href: string; title: string }[] = [
	{
		desc: "Build fast websites, faster.",
		href: "https://astro.build",
		title: "Astro",
	},
	{
		desc: "Rapidly build modern websites without ever leaving your HTML.",
		href: "https://tailwindcss.com",
		title: "Tailwind CSS",
	},
	{
		desc: "Simple and easy-to-use markup language.",
		href: "https://www.markdownguide.org/",
		title: "Markdown",
	},
	{
		desc: "Markdown for the component era.",
		href: "https://mdxjs.com/",
		title: "MDX",
	},
	{
		desc: "Generating png Open Graph images for blog posts.",
		href: "https://github.com/vercel/satori",
		title: "Satori",
	},
	{
		desc: "A fully static search library.",
		href: "https://pagefind.app/",
		title: "Pagefind",
	},
	{
		desc: "An easy to use Icon component for Astro.",
		href: "https://github.com/natemoo-re/astro-icon#readme",
		title: "Astro Icon",
	},
	{
		desc: "Highly customisable source code & syntax highlighter",
		href: "https://expressive-code.com/",
		title: "Expressive Code",
	},
];
---

<PageLayout meta={{ title: "Home" }}>
	<section>
		<h1 class="title mb-6">Hello World!</h1>
		<p class="mb-4">
			"Umamichang's Nest"へようこそ。 nestとは巣や居場所の意味、
			ここは、作ったものや書いたものをのっける場所として作られた私のためのねぐらです。
			なにかひとつでも、訪れたあなたの琴線に触れるものがあれば幸いです。
		</p>
		<p>
			Welcome to "Umamichang's Nest". The term "nest" conveys a sense of a cozy abode or a
			sanctuary, and indeed, this is my own cozy corner crafted out of the desire for a space to
			share my creations and writings. Should anything here strike a chord with you, dear visitor,
			it would be my utmost delight.
		</p>
		<SocialList />
	</section>

	<section aria-label="my works" class="mt-16">
		<h2 class="title mb-4 text-xl">Contents</h2>
		<table class="table-auto" cellpadding="5">
			<tbody>
				<tr>
					<td><a href="/posts/">📜ブログ</a></td>
					<td>これ。Astroのテンプレート「Astro Cactus」をカスタマイズした静的サイト</td>
				</tr>
				<tr>
					<td><a href="/cui/">💻CUIモード</a></td>
					<td>Xterm.jsを利用したターミナルっぽいウェブアプリ(※スマホだと表示が乱れます)</td>
				</tr>
				<!-- <tr>
				<td>AIワードウルフ</td>
				<td>ChatGPTを利用したワードウルフのお題作成アプリ</td>
			</tr> -->
			</tbody>
		</table>
	</section>

	<section aria-label="Blog post list" class="mt-16">
		<h2 class="title mb-4 text-xl">Posts</h2>
		<ul class="space-y-4">
			{
				allPostsByDate.map((p) => (
					<li class="flex flex-col gap-x-2 sm:flex-row">
						<PostPreview post={p} />
					</li>
				))
			}
		</ul>
	</section>
</PageLayout>

<!-- 
"Umamichang's Nest"へようこそ。
nestとは巣や居場所の意味、
ここは、作ったものや書いたものをのっける場所が欲しくて作った私のためのねぐらです。
なにかひとつでも、訪れたあなたの琴線に触れるものがあれば幸いです。

Welcome to Umamichang's Nest,
where, as the saying goes, 'every bird finds its nest.'
Here, nestled within these digital branches, I've fashioned a haven, a sanctuary, if you will, to house my creations and musings. As the poet Rumi once mused, 'Let yourself be silently drawn by the strange pull of what you really love. It will not lead you astray.' So, if anything within these virtual walls resonates with you, consider it a serendipitous encounter.
-->
