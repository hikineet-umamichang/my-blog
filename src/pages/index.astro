---
import SocialList from "@/components/SocialList.astro";
import PostPreview from "@/components/blog/PostPreview.astro";
import PageLayout from "@/layouts/Base.astro";
import { getAllPosts, sortMDByDate } from "@/utils";

const MAX_POSTS = 10;
const allPosts = await getAllPosts();
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS);
---

<PageLayout meta={{ title: "Home" }}>
	<section>
		<h1 class="title mb-6">It’s nice to have you here</h1>
		<p class="mb-4">
			Welcome to "Umamichang's Nest". The term "nest" conveys a sense of a cozy abode or a
			sanctuary, and indeed, this is my own cozy corner crafted out of the desire for a space to
			share my creations and writings. Should anything here strike a chord with you, dear visitor,
			it would be my utmost delight.
		</p>
		<p>
			"Umamichang's Nest"へようこそ。 nestとは巣や居場所の意味。
			ここは、作ったものや書いたものを保存する場所として作った私自身のためのねぐらです。
			なにかひとつでも、訪れたあなたの琴線に触れるものがあれば幸いです。
		</p>

		<SocialList />
	</section>

	<section aria-label="my works" class="mt-16">
		<h2 class="title mb-4 text-xl">Contents</h2>

		<table class="table-auto" cellpadding="5">
			<tbody>
				<tr>
					<td><a href="/posts/" class="cactus-link">📜ブログ</a></td>
					<td>今見てるこれ。Astroのテンプレート「Astro Cactus」をカスタマイズした静的サイト</td>
				</tr>
				<tr>
					<td><a href="/cui/" class="cactus-link">💻CUIモード</a></td>
					<td>Xterm.jsを利用したターミナルっぽいウェブアプリ(※現在工事中)</td>
				</tr>
				<!-- <tr>
				<td>AIワードウルフ</td>
				<td>ChatGPTを利用したワードウルフのお題作成アプリ</td>
			</tr> -->
			</tbody>
		</table>
	</section>

	<section aria-label="Blog post list" class="mt-16">
		<h2 class="title mb-4 text-xl">Posts</h2>
		<ul class="space-y-4">
			{
				allPostsByDate.map((p) => (
					<li class="flex flex-col gap-x-2 sm:flex-row">
						<PostPreview post={p} />
					</li>
				))
			}
		</ul>
	</section>
</PageLayout>

<!-- 
"Umamichang's Nest"へようこそ。
nestとは巣や居場所の意味、
ここは、作ったものや書いたものをのっける場所が欲しくて作った私のためのねぐらです。
なにかひとつでも、訪れたあなたの琴線に触れるものがあれば幸いです。

Welcome to Umamichang's Nest,
where, as the saying goes, 'every bird finds its nest.'
Here, nestled within these digital branches, I've fashioned a haven, a sanctuary, if you will, to house my creations and musings. As the poet Rumi once mused, 'Let yourself be silently drawn by the strange pull of what you really love. It will not lead you astray.' So, if anything within these virtual walls resonates with you, consider it a serendipitous encounter.
-->
